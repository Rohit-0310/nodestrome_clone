<!DOCTYPE html>
<html lang="en">
    <head>
      <meta charset="UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Nodestrome | Men</title>
    </head>
    <style>
        /* body{
            background-color:darksalmon;
        }
        img {
          width: 5%;
        } */
        #data{
            border: 2px solid black;
            width: 20%;
        }
    </style>
  <link rel="stylesheet" href="/styles/style.css" />
    <body>

		<div id="navbar"></div>

		<!-- <div id="container"></div> -->

        <h1>My Cart</h1>

        <h1 id="total"></h1>
    
    
        <button onclick="makePayment()">Make Payment</button>
        <div id="data"></div>

	</body>
</html>

<script type="module">
	import navbar from "./components/navbar.js";
    import { getData} from "./scripts/showData.js"

	let navbar_div = document.getElementById("navbar");

	navbar_div.innerHTML = navbar();


    // add_cart(p)
    let cart_data = JSON.parse(localStorage.getItem("cart"));

    let data_div = document.getElementById("data");

    var total = 0;

    cart_data.forEach(function (product) {
        let div = document.createElement("div");

        let img = document.createElement('img')

        img.src = product.image;

        let names = document.createElement('p')

        names.innerText = product.title;

        let prices = document.createElement('p')

        prices.textContent = `₹ ${product.price}`;
        prices.style.color = "red"

        div.append(img, names, prices);

        data_div.append(div)

        total = total + Number(product.price);

    });

    
    let total_h1 = document.getElementById("total");
    
    total_h1.innerHTML = 'Total Price- ₹' + total;

    function makePayment(){
        setTimeout(function(){

            alert("Payment Successful");
        }, 4000);
    }

	
</script>
